(function(){"use strict";var e={3560:function(e,t,a){var s=a(5130),i=a(6768),n=a(4232);const r={class:"app-header"},o=["title"],l={class:"app-main"},c={class:"main-layout-wrapper"},u={class:"quiz-content-area"},h={class:"activity-container"},d={key:0,class:"start-quiz-container"},m={class:"start-controls"},p={key:0,class:"username-entry"},f=["disabled"],g={key:1,class:"username-confirmed"},v=["disabled"],k={key:1,class:"quiz-area"},y={key:0,class:"current-user"},b={key:1},I={class:"question-header"},S={class:"question-counter"},C={class:"timer"},L={class:"options-container"},T=["onClick","disabled"],w={key:1,class:"results-container"},q={class:"results-list"},Q={class:"result-line-1"},M={class:"result-question"},E={class:"result-details"},A={class:"result-time"},R={class:"result-score"},x={class:"result-answer"},z={key:0,class:"correct-answer-text"},_={key:1,class:"correct-indicator"},P={key:0,class:"result-fact"},U={class:"final-score"},D={key:0,class:"leaderboard"},X={key:0,class:"loading-message"},O={key:1,class:"no-scores-message"},j={key:2,class:"leaderboard-list"},N={class:"app-footer"};function F(e,t,a,F,B,W){return(0,i.uX)(),(0,i.CE)("div",{class:(0,n.C4)(["app",B.currentTheme])},[(0,i.Lk)("header",r,[t[6]||(t[6]=(0,i.Lk)("h1",null,"US Capitals Matching Game",-1)),(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>W.toggleTheme&&W.toggleTheme(...e)),class:"theme-toggle",title:"Switch to "+("dark"===B.currentTheme?"light":"dark")+" mode"},(0,n.v_)("dark"===B.currentTheme?"☀️":"🌙"),9,o)]),(0,i.Lk)("main",l,[(0,i.Lk)("div",c,[(0,i.Lk)("div",u,[(0,i.Lk)("div",h,["notStarted"===B.quizState?((0,i.uX)(),(0,i.CE)("div",d,[t[11]||(t[11]=(0,i.Lk)("div",{class:"instructions"},[(0,i.Lk)("h2",null,"Welcome!"),(0,i.Lk)("p",{class:"instruction-intro"},"Test your knowledge of US state capitals."),(0,i.Lk)("ul",null,[(0,i.Lk)("li",null,"You will be shown a capital city."),(0,i.Lk)("li",null,"Select the correct state from the 4 options provided."),(0,i.Lk)("li",null,"You have 10 questions to answer."),(0,i.Lk)("li",null,"Scoring: Max 10 points per question, -1 point per second. 0 points if wrong or time reaches 10s.")])],-1)),(0,i.Lk)("div",m,[t[10]||(t[10]=(0,i.Lk)("p",{class:"username-prompt"},"Enter your username to begin:",-1)),B.usernameEntered?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",p,[t[7]||(t[7]=(0,i.Lk)("label",{for:"usernameInput",class:"sr-only"},"Username",-1)),(0,i.bo)((0,i.Lk)("input",{id:"usernameInput",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>B.username=e),placeholder:"Enter your username",class:"username-input",onKeyup:t[2]||(t[2]=(0,s.jR)(((...e)=>W.submitUsername&&W.submitUsername(...e)),["enter"]))},null,544),[[s.Jo,B.username,void 0,{trim:!0}]]),(0,i.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>W.submitUsername&&W.submitUsername(...e)),class:"confirm-username-button",disabled:!B.username}," Confirm Username ",8,f)])),B.usernameEntered?((0,i.uX)(),(0,i.CE)("p",g,[t[8]||(t[8]=(0,i.eW)(" Ready, ")),(0,i.Lk)("strong",null,(0,n.v_)(B.username),1),t[9]||(t[9]=(0,i.eW)("! "))])):(0,i.Q3)("",!0),(0,i.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>W.startQuiz&&W.startQuiz(...e)),class:"start-button",disabled:!B.usernameEntered}," Start Quiz ",8,v)])])):((0,i.uX)(),(0,i.CE)("div",k,[B.username?((0,i.uX)(),(0,i.CE)("p",y,(0,n.v_)(B.username),1)):(0,i.Q3)("",!0),"inProgress"===B.quizState?((0,i.uX)(),(0,i.CE)("h2",b,"Match the capital city to its corresponding state:")):(0,i.Q3)("",!0),(0,i.bF)(s.eB,{name:"fade",mode:"out-in"},{default:(0,i.k6)((()=>["inProgress"===B.quizState?((0,i.uX)(),(0,i.CE)("div",{class:"question-container",key:B.currentQuestionIndex},[(0,i.Lk)("div",I,[(0,i.Lk)("p",S,"Question "+(0,n.v_)(B.currentQuestionIndex+1)+" of "+(0,n.v_)(B.questions.length),1),(0,i.Lk)("p",C,"Time: "+(0,n.v_)(B.elapsedTime)+"s",1)]),(0,i.Lk)("h3",null,(0,n.v_)(B.currentQuestion.capital),1),(0,i.Lk)("div",L,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(B.currentQuestion.options,((e,t)=>((0,i.uX)(),(0,i.CE)("button",{key:t,onClick:t=>W.selectAnswer(e),class:"option-button",disabled:B.isTransitioning},(0,n.v_)(e),9,T)))),128))])])):"finished"===B.quizState?((0,i.uX)(),(0,i.CE)("div",w,[(0,i.Lk)("h2",null,"Quiz Results for "+(0,n.v_)(B.username),1),(0,i.Lk)("ul",q,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(B.results,((e,t)=>((0,i.uX)(),(0,i.CE)("li",{key:t,class:(0,n.C4)({correct:e.isCorrect,incorrect:!e.isCorrect})},[(0,i.Lk)("div",Q,[(0,i.Lk)("span",M,(0,n.v_)(t+1)+". "+(0,n.v_)(e.question),1),(0,i.Lk)("span",E,[(0,i.Lk)("span",A,"("+(0,n.v_)(void 0!==e.timeTaken?e.timeTaken:"N/A")+"s)",1),(0,i.Lk)("span",R,"Score: "+(0,n.v_)(void 0!==e.questionScore?e.questionScore:"N/A"),1)])]),(0,i.Lk)("span",x,[(0,i.eW)(" Your answer: "+(0,n.v_)(e.userAnswer)+" ",1),e.isCorrect?((0,i.uX)(),(0,i.CE)("span",_," ✔️")):((0,i.uX)(),(0,i.CE)("span",z," (Correct: "+(0,n.v_)(e.correctAnswer)+")",1))]),!e.isCorrect&&e.fact?((0,i.uX)(),(0,i.CE)("p",P,(0,n.v_)(e.fact),1)):(0,i.Q3)("",!0)],2)))),128))]),(0,i.Lk)("p",U,"Total Score: "+(0,n.v_)(W.totalScore),1),(0,i.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>W.resetQuiz&&W.resetQuiz(...e)),class:"reset-button"},"Play Again")])):(0,i.Q3)("",!0)])),_:1})]))])]),"finished"===B.quizState?((0,i.uX)(),(0,i.CE)("aside",D,[t[12]||(t[12]=(0,i.Lk)("h3",null,"Leaderboard",-1)),B.leaderboardLoading?((0,i.uX)(),(0,i.CE)("div",X,"Loading...")):0===B.leaderboardScores.length?((0,i.uX)(),(0,i.CE)("div",O,"No scores yet!")):((0,i.uX)(),(0,i.CE)("ul",j,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(B.leaderboardScores,((e,t)=>((0,i.uX)(),(0,i.CE)("li",{key:e.id||t,class:(0,n.C4)(["leaderboard-item",{"current-user-score":e.id===B.currentAttemptId}])},[(0,i.Lk)("span",null,(0,n.v_)(t+1)+". "+(0,n.v_)(e.name),1),(0,i.Lk)("span",null,(0,n.v_)(e.score),1)],2)))),128))]))])):(0,i.Q3)("",!0)])]),(0,i.Lk)("footer",N,[(0,i.Lk)("p",null,"© "+(0,n.v_)((new Date).getFullYear())+" Steven Maxwell",1)])],2)}a(4114),a(8111),a(2489),a(7588),a(1701),a(8237);var B=JSON.parse('[{"state":"Alabama","capital":"Montgomery","fact":"Montgomery was the first capital of Alabama in 1846."},{"state":"Alaska","capital":"Juneau","fact":"Juneau is larger in land area than the state of Delaware."},{"state":"Arizona","capital":"Phoenix","fact":"Phoenix has more than 300 sunny days per year."},{"state":"Arkansas","capital":"Little Rock","fact":"Little Rock is home to the Clinton Presidential Center."},{"state":"California","capital":"Sacramento","fact":"Sacramento is a major agricultural center."},{"state":"Colorado","capital":"Denver","fact":"Denver has a dry, sunny climate."},{"state":"Connecticut","capital":"Hartford","fact":"Hartford is known as the \'Insurance Capital of the World\'."},{"state":"Delaware","capital":"Dover","fact":"Dover is near Delaware Bay, a major estuary."},{"state":"Florida","capital":"Tallahassee","fact":"Tallahassee is located in Florida\'s panhandle region."},{"state":"Georgia","capital":"Atlanta","fact":"Atlanta was the host city for the 1996 Summer Olympics."},{"state":"Hawaii","capital":"Honolulu","fact":"Honolulu is a major gateway to the Pacific."},{"state":"Idaho","capital":"Boise","fact":"Boise is situated along the Boise River."},{"state":"Illinois","capital":"Springfield","fact":"Springfield is located in central Illinois."},{"state":"Indiana","capital":"Indianapolis","fact":"Indianapolis is the most populous city in Indiana."},{"state":"Iowa","capital":"Des Moines","fact":"Des Moines is an important center for the insurance industry."},{"state":"Kansas","capital":"Topeka","fact":"Topeka is located on the Kansas River."},{"state":"Kentucky","capital":"Frankfort","fact":"Frankfort is located on the Kentucky River."},{"state":"Louisiana","capital":"Baton Rouge","fact":"Baton Rouge is a major port city on the Mississippi River."},{"state":"Maine","capital":"Augusta","fact":"Augusta is the easternmost state capital in the contiguous United States."},{"state":"Maryland","capital":"Annapolis","fact":"Annapolis is home to the United States Naval Academy."},{"state":"Massachusetts","capital":"Boston","fact":"Boston is known for its rich history and numerous universities."},{"state":"Michigan","capital":"Lansing","fact":"Lansing is a significant center for the automotive industry."},{"state":"Minnesota","capital":"Saint Paul","fact":"Saint Paul is located on the Mississippi River, near Minneapolis."},{"state":"Mississippi","capital":"Jackson","fact":"Jackson is the most populous city in Mississippi."},{"state":"Missouri","capital":"Jefferson City","fact":"Jefferson City is situated on the Missouri River."},{"state":"Montana","capital":"Helena","fact":"Helena is located in the Rocky Mountains."},{"state":"Nebraska","capital":"Lincoln","fact":"Lincoln is home to the University of Nebraska-Lincoln."},{"state":"Nevada","capital":"Carson City","fact":"Carson City is located near the Sierra Nevada mountains."},{"state":"New Hampshire","capital":"Concord","fact":"Concord is located on the Merrimack River."},{"state":"New Jersey","capital":"Trenton","fact":"Trenton is located on the Delaware River."},{"state":"New Mexico","capital":"Santa Fe","fact":"Santa Fe has a unique architectural style influenced by its Spanish colonial heritage."},{"state":"New York","capital":"Albany","fact":"Albany is located at the junction of the Hudson and Mohawk Rivers."},{"state":"North Carolina","capital":"Raleigh","fact":"Raleigh is part of the Research Triangle Park region."},{"state":"North Dakota","capital":"Bismarck","fact":"Bismarck is located on the Missouri River."},{"state":"Ohio","capital":"Columbus","fact":"Columbus is the state\'s most populous city."},{"state":"Oklahoma","capital":"Oklahoma City","fact":"Oklahoma City is known for its oil industry history."},{"state":"Oregon","capital":"Salem","fact":"Salem is located in the Willamette Valley."},{"state":"Pennsylvania","capital":"Harrisburg","fact":"Harrisburg is located on the Susquehanna River."},{"state":"Rhode Island","capital":"Providence","fact":"Providence is home to Brown University."},{"state":"South Carolina","capital":"Columbia","fact":"Columbia is located at the confluence of the Broad and Saluda Rivers."},{"state":"South Dakota","capital":"Pierre","fact":"Pierre is one of the least populous state capitals."},{"state":"Tennessee","capital":"Nashville","fact":"Nashville is a major center for the music industry."},{"state":"Texas","capital":"Austin","fact":"Austin is known for its live music scene and technology industry."},{"state":"Utah","capital":"Salt Lake City","fact":"Salt Lake City hosted the 2002 Winter Olympics."},{"state":"Vermont","capital":"Montpelier","fact":"Montpelier is the only state capital without a McDonald\'s restaurant."},{"state":"Virginia","capital":"Richmond","fact":"Richmond is located on the James River."},{"state":"Washington","capital":"Olympia","fact":"Olympia is located at the southern end of Puget Sound."},{"state":"West Virginia","capital":"Charleston","fact":"Charleston is located at the confluence of the Elk and Kanawha Rivers."},{"state":"Wisconsin","capital":"Madison","fact":"Madison is surrounded by four lakes."},{"state":"Wyoming","capital":"Cheyenne","fact":"Cheyenne is known for its annual Frontier Days rodeo."}]'),W=a(6400),J=a(7617);const H={apiKey:"AIzaSyDSY5RCZQDso9xLuYjPfyEY24VXl-Aw4Nk",authDomain:"edtc-miniproject.firebaseapp.com",projectId:"edtc-miniproject",storageBucket:"edtc-miniproject.firebasestorage.app",messagingSenderId:"644766918572",appId:"1:644766918572:web:7e5c046a579be55bdd7c09",measurementId:"G-W24PQMC5ZY"},K=(0,W.Wp)(H),Y=(0,J.aU)(K);var V={data(){return{statesInfo:[],quizState:"notStarted",username:"",usernameEntered:!1,isTransitioning:!1,questions:[],currentQuestionIndex:0,currentQuestion:{},results:[],questionStartTime:0,elapsedTime:0,timerIntervalId:null,leaderboardScores:[],leaderboardListenerUnsubscribe:null,leaderboardLoading:!0,currentAttemptId:null,currentTheme:"dark"}},computed:{totalScore(){return this.results.reduce(((e,t)=>e+(t.questionScore||0)),0)}},mounted(){this.statesInfo=B;const e=localStorage.getItem("quizTheme");!e||"light"!==e&&"dark"!==e?console.log("No saved theme found, using default:",this.currentTheme):(this.currentTheme=e,console.log("Loaded saved theme:",this.currentTheme)),this.listenForLeaderboardUpdates()},beforeUnmount(){this.timerIntervalId&&clearInterval(this.timerIntervalId),this.leaderboardListenerUnsubscribe&&(console.log("Unsubscribing from leaderboard listener."),this.leaderboardListenerUnsubscribe())},methods:{toggleTheme(){this.currentTheme="dark"===this.currentTheme?"light":"dark",localStorage.setItem("quizTheme",this.currentTheme),console.log("Theme toggled to:",this.currentTheme)},listenForLeaderboardUpdates(){this.leaderboardLoading=!0,console.log("Setting up leaderboard listener...");try{const e=(0,J.rJ)(Y,"scores"),t=(0,J.P)(e,(0,J.My)("score","desc"),(0,J.AB)(20));this.leaderboardListenerUnsubscribe=(0,J.aQ)(t,(e=>{const t=[];e.forEach((e=>{const a=e.data();a.name&&"number"===typeof a.score?t.push({id:e.id,...a}):console.warn("Skipping invalid leaderboard entry:",e.id)})),this.leaderboardScores=t,this.leaderboardLoading=!1}),(e=>{console.error("Error listening to leaderboard scores:",e),this.leaderboardLoading=!1}))}catch(e){console.error("Error setting up leaderboard query:",e),this.leaderboardLoading=!1}},submitUsername(){this.username&&this.username.trim()?(this.username=this.username.trim(),this.usernameEntered=!0):(this.username="",alert("Please enter a valid username."))},startQuiz(){this.usernameEntered&&this.username?(this.currentAttemptId=null,this.generateQuestions(),this.questions&&this.questions.length>0?(this.currentQuestionIndex=0,this.results=[],this.currentQuestion=this.questions[0],this.isTransitioning=!1,this.quizState="inProgress",this.$nextTick((()=>{this.startQuestionTimer()}))):alert("Error: Could not load questions.")):alert("Please confirm username first.")},startQuestionTimer(){this.timerIntervalId&&clearInterval(this.timerIntervalId),this.elapsedTime=0,this.questionStartTime=Date.now(),this.timerIntervalId=setInterval((()=>{this.elapsedTime=Math.floor((Date.now()-this.questionStartTime)/1e3)}),1e3)},stopQuestionTimer(){let e=0;return this.timerIntervalId&&(clearInterval(this.timerIntervalId),this.timerIntervalId=null,e=Math.max(0,Math.floor((Date.now()-this.questionStartTime)/1e3))),this.elapsedTime=0,e},generateQuestions(){try{const e=10;if(!this.statesInfo||0===this.statesInfo.length)return this.questions=[],void(this.currentQuestion={});const t=[...this.statesInfo],a=[],s=Math.min(e,t.length);for(let i=0;i<s;i++){if(0===t.length)break;const e=Math.floor(Math.random()*t.length);a.push(t.splice(e,1)[0])}this.questions=a.map((e=>({capital:e.capital,correctState:e.state,options:[...this.getRandomIncorrectStates(e.state,3),e.state].sort((()=>Math.random()-.5)),fact:e.fact}))),0===this.questions.length&&console.error("No questions generated.")}catch(e){console.error("Error generating questions:",e),this.questions=[],this.currentQuestion={}}},getRandomIncorrectStates(e,t){if(!this.statesInfo||this.statesInfo.length<=1)return[];const a=[],s=this.statesInfo.map((e=>e.state)),i=s.filter((t=>t!==e)),n=Math.min(t,i.length);while(a.length<n){if(0===i.length)break;const e=Math.floor(Math.random()*i.length);a.push(i.splice(e,1)[0])}return a},selectAnswer(e){if(this.isTransitioning||"inProgress"!==this.quizState)return;const t=this.stopQuestionTimer();this.isTransitioning=!0;const a=300;setTimeout((()=>{if(this.currentQuestionIndex<this.questions.length&&this.questions[this.currentQuestionIndex]){const a=this.questions[this.currentQuestionIndex],s=e===a.correctState;let i=s?Math.max(0,10-t):0;this.results.push({question:a.capital,correctAnswer:a.correctState,userAnswer:e,isCorrect:s,fact:a.fact,timeTaken:t,questionScore:i}),this.currentQuestionIndex++,this.currentQuestionIndex<this.questions.length?(this.currentQuestion=this.questions[this.currentQuestionIndex],this.startQuestionTimer()):(console.log(`Quiz finished for ${this.username}. Results:`,this.results),this.quizState="finished",this.saveScoreToFirestore())}else console.error("Error processing answer for index:",this.currentQuestionIndex);this.$nextTick((()=>{this.isTransitioning=!1}))}),a)},async saveScoreToFirestore(){if(!this.username||0===this.results.length||"finished"!==this.quizState)return void console.warn("Conditions not met for saving score.");this.currentAttemptId=null,console.log(`Attempting to save score for ${this.username}...`);const e={name:this.username,score:this.totalScore,timestamp:new Date};try{const t=(0,J.rJ)(Y,"scores"),a=await(0,J.gS)(t,e);console.log("Score saved successfully to Firestore with ID:",a.id),this.currentAttemptId=a.id}catch(t){console.error("Error saving score to Firestore:",t),alert("Sorry, there was an error saving your score.")}},resetQuiz(){console.log("Resetting quiz..."),this.timerIntervalId&&(clearInterval(this.timerIntervalId),this.timerIntervalId=null),this.currentQuestionIndex=0,this.questions=[],this.results=[],this.currentQuestion={},this.isTransitioning=!1,this.questionStartTime=0,this.elapsedTime=0,this.username="",this.usernameEntered=!1,this.quizState="notStarted",this.currentAttemptId=null}}},$=a(1241);const G=(0,$.A)(V,[["render",F]]);var Z=G;(0,s.Ef)(Z).mount("#app")}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,i,n){if(!s){var r=1/0;for(u=0;u<e.length;u++){s=e[u][0],i=e[u][1],n=e[u][2];for(var o=!0,l=0;l<s.length;l++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(o=!1,n<r&&(r=n));if(o){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[s,i,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,n,r=s[0],o=s[1],l=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(l)var u=l(a)}for(t&&t(s);c<r.length;c++)n=r[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},s=self["webpackChunkedtc_miniproject"]=self["webpackChunkedtc_miniproject"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(3560)}));s=a.O(s)})();
//# sourceMappingURL=app.b13ce2ad.js.map